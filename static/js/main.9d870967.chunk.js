(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{11:function(e,t,a){e.exports={App:"App_App__2pmq0","App-logo":"App_App-logo__110dm","App-logo-spin":"App_App-logo-spin__DAYDU","App-header":"App_App-header__3PLQ4","App-link":"App_App-link__3yOYu"}},16:function(e,t,a){e.exports={list:"MoviesNav_list__3J2mr",listItem:"MoviesNav_listItem__3LUO1",Header:"MoviesNav_Header__2YlwG",link:"MoviesNav_link__3J6al",activeLink:"MoviesNav_activeLink__ipjZP"}},17:function(e,t,a){"use strict";var n=a(9),c=a.n(n),r=a(19),s=a(20),i=a.n(s),o="8d4dbcc91599f2a2050190ab7ea9b537",l="https://api.themoviedb.org/3",u={getMovieTrending:function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/trending/movie/week?api_key=").concat(o));case 3:return t=e.sent,e.abrupt("return",t.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),getSearchMovies:function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/search/movie?api_key=").concat(o,"&query=").concat(t,"&language=en-US&page=1&include_adult=false"));case 3:return a=e.sent,e.abrupt("return",a.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getMovieDetails:function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/movie/").concat(t,"?api_key=").concat(o,"&language=en-US"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getMovieCredits:function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/movie/").concat(t,"/credits?api_key=").concat(o));case 3:return a=e.sent,e.abrupt("return",a.data.cast);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getMovieReviews:function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/movie/").concat(t,"/reviews?api_key=").concat(o,"&language=en-US&page=1"));case 3:return a=e.sent,e.abrupt("return",a.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()};t.a=u},21:function(e,t,a){e.exports={searchbar:"MoviesSearch_searchbar__2GRuz",form:"MoviesSearch_form__1kpkP",btn:"MoviesSearch_btn__11U8O",label:"MoviesSearch_label__2U533",input:"MoviesSearch_input__3pXFQ"}},22:function(e,t,a){e.exports={image:"MovieDetails_image__2HG8Z",title:"MovieDetails_title__1MUmN",details:"MovieDetails_details__2vKjp",container:"MovieDetails_container__3QhZD",genre:"MovieDetails_genre__DFPRn"}},25:function(e,t,a){e.exports={image:"MoviesList_image__piKco",list:"MoviesList_list__hOD7O",item:"MoviesList_item__uNilV"}},40:function(e,t,a){},43:function(e,t,a){e.exports={loader:"Loader_loader__163ZY"}},48:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(38),s=a.n(r),i=(a(48),a(10)),o=a(3),l=a(12),u=a(13),p=a(15),h=a(14),v=a(25),j=a.n(v),m={home:"/",moviePage:"/movies",movieDetails:"/movies/:movieId",cast:"/movies/:movieId/cast",movieReviews:"/movies/:movieId/reviews"},b=a(0),d=Object(o.f)((function(e){var t=e.movies,a=e.location;return Object(b.jsx)("ul",{className:j.a.list,children:t.map((function(e){var t=e.id,n=e.poster_path,c=e.title;return Object(b.jsx)("li",{className:j.a.item,children:Object(b.jsxs)(i.a,{to:{pathname:"".concat(m.moviePage,"/").concat(t),state:{from:a}},children:[Object(b.jsx)("img",{className:j.a.image,src:n&&"https://image.tmdb.org/t/p/w500/".concat(n),alt:"".concat(c," poster")}),Object(b.jsx)("h4",{children:c})]})},t)}))})})),O=a(17),f=a(40),_=a.n(f),x=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={movies:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.getMovieTrending().then((function(t){return e.setState({movies:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:_.a.title,children:"Trending today"}),Object(b.jsx)(d,{movies:this.state.movies})]})}}]),a}(n.Component),g=a(21),w=a.n(g),y=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={qwery:""},e.handleChange=function(t){e.setState({qwery:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.qwery),e.setState({qwery:""})},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{className:w.a.searchbar,children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,className:w.a.form,children:[Object(b.jsx)("button",{type:"submit",className:w.a.btn,children:Object(b.jsx)("span",{className:w.a.label,children:"Search"})}),Object(b.jsx)("input",{className:w.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:this.handleChange})]})})}}]),a}(n.Component),k=a(41),N=a.n(k),M=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={movies:[],page:"",error:null,query:""},e.handleSubmit=function(t){var a=e.props.history;e.setState({query:t}),O.a.getSearchMovies(t).then((function(t){e.setState({movies:t})})).catch((function(e){return console.log(e)})),a.push({pathname:a.pathname,search:"query=".concat(t)})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location,a=N.a.parse(t.search).query;a&&O.a.getSearchMovies(a).then((function(t){e.setState({movies:t})}))}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y,{onSubmit:this.handleSubmit}),Object(b.jsx)(d,{movies:this.state.movies,location:this.props.location})]})}}]),a}(n.Component),S=a(23),A=a(42),D=a.n(A),C=(a(93),a(43)),I=a.n(C),L=function(){return Object(b.jsx)(D.a,{className:I.a.loader,type:"Puff",color:"#00BFFF",height:100,width:100,timeout:1e3})},q=a(16),F=a.n(q),P=function(e){var t=e.url,a=e.location;return Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{className:F.a.list,children:[Object(b.jsx)("li",{className:F.a.listItem,children:Object(b.jsx)(i.a,{to:{pathname:"".concat(t,"/cast"),state:a},className:F.a.link,activeClassName:F.a.activeLink,children:"Cast"})}),Object(b.jsx)("li",{className:F.a.listItem,children:Object(b.jsx)(i.a,{to:{pathname:"".concat(t,"/reviews"),state:a},className:F.a.link,activeClassName:F.a.activeLink,children:"Reviews"})})]})})},U=a(22),B=a.n(U),E=function(e){var t=e.state;return Object(b.jsxs)("div",{className:B.a.details,children:[Object(b.jsx)("img",{className:B.a.image,src:t.poster_path&&"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"".concat(t.title," poster")}),Object(b.jsxs)("div",{className:B.a.container,children:[Object(b.jsx)("h1",{className:B.a.title,children:t.title}),Object(b.jsxs)("p",{children:[" Release date: ",t.release_date]}),Object(b.jsxs)("p",{children:["Score:",Object(b.jsxs)("span",{children:[" ",10*t.vote_average,"%"]})]}),Object(b.jsx)("h2",{children:"Overview"}),Object(b.jsx)("p",{children:t.overview}),Object(b.jsx)("h2",{children:"Genres"}),t.genres.map((function(e){return Object(b.jsx)("span",{className:B.a.genre,children:e.name},e.id)}))]})]})},R=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,96))})),G=Object(n.lazy)((function(){return a.e(4).then(a.t.bind(null,97,7))})),H=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={title:null,release_date:null,vote_average:null,overview:null,genres:[],poster_path:null},e.handleBtnBack=function(){var t,a=e.props,n=a.location;a.history.push((null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.from)||m.movies)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;O.a.getMovieDetails(t).then((function(t){return e.setState(Object(S.a)({},t))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{type:"button",onClick:this.handleBtnBack,children:"Go back"}),Object(b.jsx)(E,{state:this.state}),Object(b.jsx)("h3",{children:"Additional information"}),this.state.isLoading&&Object(b.jsx)(L,{}),Object(b.jsx)(P,{url:this.props.match.url,location:this.props.location.state}),Object(b.jsx)(n.Suspense,{fallback:Object(b.jsx)(L,{}),children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"".concat(this.props.match.url,"/cast"),render:function(t){return Object(b.jsx)(R,Object(S.a)(Object(S.a)({},t),{},{id:e.props.match.params.movieId}))}}),Object(b.jsx)(o.a,{exact:!0,path:"".concat(this.props.match.url,"/reviews"),render:function(t){return Object(b.jsx)(G,Object(S.a)(Object(S.a)({},t),{},{id:e.props.match.params.movieId}))}})]})})]})}}]),a}(n.Component),J=function(){return Object(b.jsx)("h1",{children:"404 - page not found"})},T=a(11),Y=a.n(T),Z=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("header",{className:Y.a.Header,children:Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{className:Y.a.list,children:[Object(b.jsx)("li",{className:Y.a.listItem,children:Object(b.jsx)(i.a,{exact:!0,to:m.home,className:Y.a.link,activeClassName:Y.a.activeLink,children:"Home"})}),Object(b.jsx)("li",{className:Y.a.listItem,children:Object(b.jsx)(i.a,{to:m.moviePage,className:Y.a.link,activeClassName:Y.a.activeLink,children:"Movies"})})]})})}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:m.home,component:x}),Object(b.jsx)(o.a,{path:m.movieDetails,component:H}),Object(b.jsx)(o.a,{path:m.moviePage,component:M}),Object(b.jsx)(o.a,{component:J})]})]})};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(Z,{})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.9d870967.chunk.js.map